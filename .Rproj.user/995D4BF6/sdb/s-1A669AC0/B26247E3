{
    "collab_server" : "",
    "contents" : "---\ntitle: \"Foosball Performance Analysis\"\nauthor: \"SF Office - KP\"\ndate: \"November 1, 2016\"\noutput: \n  html_document:\n    theme: lumen\n    toc: true\n    toc_float: \n      collapsed: true\n---\n\n```{r setup, include=FALSE}\n\nknitr::opts_chunk$set(dev = 'png')\nknitr::opts_chunk$set(fig.width = 9, fig.height = 8)\nlibrary(DT)\n\nsource(\"foos_elo.R\")\n\n```\n\n***\n# About Elo\n\nThese numbers are calculated based on the [Elo rating system](https://en.wikipedia.org/wiki/Elo_rating_system).\n\n> A player's Elo rating is represented by a number which increases or decreases depending on the outcome of games between rated players. After every game, the winning player takes points from the losing one. The difference between the ratings of the winner and loser determines the total number of points gained or lost after a game. \n\n> In a series of games between a high-rated player and a low-rated player, the high-rated player is expected to score more wins. If the high-rated player wins, then only a few rating points will be taken from the low-rated player. However, if the lower rated player scores an upset win, many rating points will be transferred. \n\n> A player whose rating is too low should, in the long run, do better than the rating system predicts, and thus gain rating points until the rating reflects their true playing strength.\n\nThe margin of victory multiplier is based on [Nate Silver's NFL Elo system](http://fivethirtyeight.com/datalab/introducing-nfl-elo-ratings/).\n\nHere we use: $MoV Multiplier = \\ln(abs(PD)) * (2.2/((ELOW-ELOL)*.001+2.2))$\n\nWhere PD is the point differential in the game, ELOW is the winning player’s Elo Rating before the game, and ELOL is the losing player’s Elo Rating before the game.\n\n## Notes\n\n* Players have been arbitrarily assigned initial ratings based on years of experience. These may not be accurate, but game data should correct for this. \n\n***\n# Current Elo table\n\nSo, after `r singles_elo %>% select(number_of_games) %>% max` games, how do people rank up?\n\n```{r foos_elo, echo=FALSE}\ndatatable(singles_elo %>% mutate(elo = round(elo)), options = list(paging = FALSE), fillContainer = FALSE)\n```\n\n***\n# Winning expectancies\n\nThese player odds are calculated by the [difference in ratings](http://www.eloratings.net/system.html).\n\nRead across: Row Player's chance of beating Column Player\n\n```{r foos_odds, echo=FALSE}\nkable(player_odds_df %>% round(3) * 100)\n```\n\n***\n# Elo over time graph\n\n```{r foos_graph, echo=FALSE}\nprint(ggp)\n```\n_Woah look at that rise!_\n\n***\n# Score Table\n\nLook up player scores in the search box.\n```{r foos_games, echo=FALSE}\ndatatable(singles_games)\n```\n\n\n***\n# Pitfalls\n\n* Low (or 0), and uneven, game counts for many players, let's add some data!\n* No decay for inactive players, so challenge people to make sure their rankings are honest! \n",
    "created" : 1478163752130.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "2675018450",
    "id" : "B26247E3",
    "lastKnownWriteTime" : 1478156653,
    "last_content_update" : 1478156653,
    "path" : "C:/Users/kevin pan/Dropbox/dev/foos/foos_page.Rmd",
    "project_path" : "foos_page.Rmd",
    "properties" : {
        "tempName" : "Untitled2"
    },
    "relative_order" : 8,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_markdown"
}